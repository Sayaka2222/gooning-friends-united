####### NO STEP BACK! #######
@DAYS_DETERMINED = 180 #Used for propaganda campaign SOV_heroes_forward -> Value should be the same as SOV_default_propaganda_campaign_duration

debug_decisions = { #TODO_Manu: Comment these out
	SOV_debug_show_paranoia_system = { #This is a duplicate of the decision present in the Paranoia category
		priority = 202

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "This will make the Paranoia System visible in the tab. It does NOT activate the Paranoia system."
			set_country_flag = SOV_debug_show_paranoia_system_flag
		}
	}

	SOV_debug_show_propaganda_system = { #This is a duplicate of the decision present in the Paranoia category
		priority = 201

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_debug_show_propaganda_system_flag }
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "This will make the Propaganda system visible in the tab. It does NOT activate the Propaganda system."
			set_country_flag = SOV_debug_show_propaganda_system_flag
		}
	}

	SOV_TEST_ULTIMATE_CONTINENTS = {
		priority = 200

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			always = yes
		}

		cost = 0

		complete_effect = {
			#log = "WARNING: This takes a while"
			every_state = {
				limit = {
					is_on_continent = asia
				}
				TIB = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = europe
				}
				LUX = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = middle_east
				}
				YEM = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = africa
				}
				ETH = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = australia
				}
				NZL = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = north_america
				}
				CAN = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_on_continent = south_america
				}
				PER = { transfer_state = PREV }
			}
		}
	}
}



########     ###    ########     ###    ##    ##  #######  ####    ###
##     ##   ## ##   ##     ##   ## ##   ###   ## ##     ##  ##    ## ##
##     ##  ##   ##  ##     ##  ##   ##  ####  ## ##     ##  ##   ##   ##
########  ##     ## ########  ##     ## ## ## ## ##     ##  ##  ##     ##
##        ######### ##   ##   ######### ##  #### ##     ##  ##  #########
##        ##     ## ##    ##  ##     ## ##   ### ##     ##  ##  ##     ##
##        ##     ## ##     ## ##     ## ##    ##  #######  #### ##     ##


SOV_paranoia_system = {

	SOV_forge_production_reports = { #Repeatable decision to reduce Paranoia
		priority = 310

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { SOV_paranoia > 35 }
			}
			modifier = {
				add = 100
				check_variable = { SOV_paranoia > 75 }
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		cost = SOV_paranoia_calm_down_stalin_decision_cost

		days_re_enable = SOV_paranoia_calm_down_stalin_re_enable_days

		days_remove = 90

		modifier = {
			consumer_goods_factor = 0.05
		}

		complete_effect = {
			SOV_paranoia_medium_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_calm_down_stalin_cd_tt
		}
	}

	SOV_inspection_in_the_administration = { #Repeatable decision to reduce Paranoia // Target Administration
		priority = 309

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_administration_purgeable_tt
				OR = {
					any_character = {
						is_character_slot = political_advisor
						SOV_character_can_be_purged = yes
					}
					NOT = { has_idea = SOV_understaffed_bureaucracy }
					NOT = { has_idea = SOV_lavrenty_beriya }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				any_character = {
					is_character_slot = political_advisor
					SOV_character_can_be_purged = yes
				}
				NOT = { has_idea = SOV_understaffed_bureaucracy }
				NOT = { has_idea = SOV_lavrenty_beriya }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_paranoia_low_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_army = { #Repeatable decision to reduce Paranoia // Target Army
		priority = 308

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_army_purgeable_tt
				OR = {
					any_army_leader = {
						SOV_character_can_be_purged = yes
					}
					NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_army }
					NOT = { has_idea = SOV_training_activities_curtailed }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				any_army_leader = {
					SOV_character_can_be_purged = yes
				}
				NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_army }
				NOT = { has_idea = SOV_training_activities_curtailed }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_paranoia_medium_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_navy = { #Repeatable decision to reduce Paranoia // Target Navy
		priority = 307

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_navy_purgeable_tt
				OR = {
					any_navy_leader = {
						SOV_character_can_be_purged = yes
					}
					NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_navy }
					NOT = { has_idea = SOV_shipyard_staff_purged }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				any_navy_leader = {
					SOV_character_can_be_purged = yes
				}
				NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_navy }
				NOT = { has_idea = SOV_shipyard_staff_purged }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_paranoia_low_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_airforce = { #Repeatable decision to reduce Paranoia // Target Airforce
		priority = 306

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			custom_trigger_tooltip = {
				tooltip = SOV_paranoia_airforce_purgeable_tt
				OR = {
					NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_airforce }
					NOT = { has_idea = SOV_ground_based_training }
				}
			}
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			OR = {
				NOT = { has_idea = SOV_anti_soviet_military_thinking_banned_airforce }
				NOT = { has_idea = SOV_ground_based_training }
			}
			SOV_is_stalinist = yes
		}

		cost = SOV_paranoia_inspection_decision_cost

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_decision_flag days = 15 } #Used to prevent random purges from popping up immediately after this is completed

			SOV_paranoia_low_decrease_effect = yes
			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_loosen_prohibitions_in_military_academies_dec = {
		priority = 300

		icon = generic_brainwash

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				any_enemy_country = {
					is_major = yes
				}
			}
			modifier = {
				factor = 5
				has_idea = SOV_anti_soviet_military_thinking_banned_army
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = SOV_assassinated_stalin_flag
				}
				has_country_flag = SOV_assassinated_stalin_flag
			}
			else = {
				has_country_flag = { flag = SOV_third_moscow_trial_flag days > 365 }
			}
		}

		visible = {
			OR = {
				has_idea = SOV_anti_soviet_military_thinking_banned_army
				has_idea = SOV_anti_soviet_military_thinking_banned_navy
				has_idea = SOV_anti_soviet_military_thinking_banned_airforce
			}
			OR = {
				SOV_is_stalinist = yes
				has_country_flag = SOV_assassinated_stalin_flag
			}
		}

		days_remove = 30

		cost = 50

		modifier = {
			command_power_gain = -0.2
			political_power_gain = -0.2
		}

		complete_effect = {
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = SOV_anti_soviet_military_thinking_banned_army
				}
				remove_ideas = SOV_anti_soviet_military_thinking_banned_army
			}
			if = {
				limit = {
					has_idea = SOV_anti_soviet_military_thinking_banned_navy
				}
				remove_ideas = SOV_anti_soviet_military_thinking_banned_navy
			}
			if = {
				limit = {
					has_idea = SOV_anti_soviet_military_thinking_banned_airforce
				}
				remove_ideas = SOV_anti_soviet_military_thinking_banned_airforce
			}
		}
	}

	SOV_reinforce_army_officer_ranks_with_veterans_dec = {
		priority = 291

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 10
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 5
				has_idea = SOV_purged_junior_army_officers_2
			}
			modifier = {
				factor = 10
				has_idea = SOV_purged_junior_army_officers_3
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = SOV_assassinated_stalin_flag
				}
				has_country_flag = SOV_assassinated_stalin_flag
			}
			else = {
				has_country_flag = { flag = SOV_third_moscow_trial_flag days > 365 }
			}
		}

		visible = {
			OR = {
				has_idea = SOV_purged_junior_army_officers_1
				has_idea = SOV_purged_junior_army_officers_2
				has_idea = SOV_purged_junior_army_officers_3
			}
			OR = {
				SOV_is_stalinist = yes
				has_country_flag = SOV_assassinated_stalin_flag
			}
		}

		days_remove = SOV_reinforce_officer_ranks_days

		days_re_enable = 1

		ai_hint_pp_cost = 50
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
			has_army_experience > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50_ArmXP_50

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
				army_experience = -50
			}
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = SOV_purged_junior_army_officers_3
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_army_officers_3
					add_idea = SOV_purged_junior_army_officers_2
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_army_officers_2
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_army_officers_2
					add_idea = SOV_purged_junior_army_officers_1
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_army_officers_1
				}
				remove_ideas = SOV_purged_junior_army_officers_1
			}
		}
	}

	SOV_reinforce_navy_officer_ranks_with_veterans_dec = {
		priority = 290

		icon = generic_naval

		ai_will_do = {
			base = 10
			modifier = {
				factor = 10
				has_war = yes
			}
			modifier = {
				factor = 10
				has_idea = SOV_purged_junior_navy_officers_2
			}
			modifier = {
				factor = 50
				has_idea = SOV_purged_junior_navy_officers_3
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			if = {
				limit = {
					has_country_flag = SOV_assassinated_stalin_flag
				}
				has_country_flag = SOV_assassinated_stalin_flag
			}
			else = {
				has_country_flag = { flag = SOV_third_moscow_trial_flag days > 365 }
			}
		}

		visible = {
			OR = {
				has_idea = SOV_purged_junior_navy_officers_1
				has_idea = SOV_purged_junior_navy_officers_2
				has_idea = SOV_purged_junior_navy_officers_3
			}
			OR = {
				SOV_is_stalinist = yes
				has_country_flag = SOV_assassinated_stalin_flag
			}
		}

		days_remove = SOV_reinforce_officer_ranks_days

		days_re_enable = 1

		ai_hint_pp_cost = 50
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
			has_navy_experience > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50_NavXP_50

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
				navy_experience = -50
			}
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = SOV_purged_junior_navy_officers_3
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_navy_officers_3
					add_idea = SOV_purged_junior_navy_officers_2
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_navy_officers_2
				}
				swap_ideas = {
					remove_idea = SOV_purged_junior_navy_officers_2
					add_idea = SOV_purged_junior_navy_officers_1
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_purged_junior_navy_officers_1
				}
				remove_ideas = SOV_purged_junior_navy_officers_1
			}
			else = {
				#log = "I CANNOT REMOVE A NS THAT DOESN'T EXIST!"
			}
		}
	}



	SOV_DEBUG_ACTIVATE_PARANOIA = { #TODO_Manu: Comment out
		priority = 281

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "THIS ACTIVATES THE PARANOIA SYSTEM"
			SOV_initiate_paranoia_effect = yes
		}
	}

	SOV_DEBUG_DEACTIVATE_PARANOIA = { #TODO_Manu: Comment out
		priority = 281

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			custom_effect_tooltip = "THIS REMOVES THE PARANOIA SYSTEM"
			SOV_remove_paranoia_effect = yes
		}
	}

	SOV_DEBUG_show_debug_purge_decisions = { #TODO_Manu: Comment out
		priority = 281

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = { has_country_flag = SOV_TEST_show_debug_purge_decisions_flag }
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_TEST_show_debug_purge_decisions_flag
			#SOV_initiate_paranoia_effect = yes
		}
	}

	SOV_DEBUG_hide_debug_purge_decisions = { #TODO_Manu: Comment out
		priority = 201

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_TEST_show_debug_purge_decisions_flag
			#SOV_remove_paranoia_effect = yes
		}
	}

	SOV_DEBUG_MAKE_PURGE_DECISIONS_FASTER_HERE = {
		priority = 151

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = SOV_debug_fast_purge_decisions_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_purge_decisions_flag
			set_variable = { SOV_reinforce_officer_ranks_days = 3 }
			set_variable = { SOV_reinstate_aircraft_designer_days = 3 }
		}
	}

	SOV_DEBUG_REGULAR_PURGE_DECISIONS_DURATION_HERE = {
		priority = 150

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_debug_fast_purge_decisions_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_purge_decisions_flag
			set_variable = { SOV_reinforce_officer_ranks_days = 365 }
			set_variable = { SOV_reinstate_aircraft_designer_days = 180 }
		}
	}



	SOV_DEBUG_low_paranoia_increase_dec = {
		priority = 6

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
		}
	}

	SOV_DEBUG_medium_paranoia_increase_dec = {
		priority = 5

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_medium_increase_effect = yes
		}
	}

	SOV_DEBUG_high_paranoia_increase_dec = {
		priority = 4

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_high_increase_effect = yes
		}
	}

	SOV_DEBUG_low_paranoia_decrease_dec = {
		priority = 3

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_low_decrease_effect = yes
		}
	}

	SOV_DEBUG_medium_paranoia_decrease_dec = {
		priority = 2

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_medium_decrease_effect = yes
		}
	}

	SOV_DEBUG_high_paranoia_decrease_dec = {
		priority = 1

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_country_flag = SOV_TEST_show_debug_purge_decisions_flag
		}

		cost = 0

		complete_effect = {
			SOV_paranoia_high_decrease_effect = yes
		}
	}

	SOV_DEBUG_show_all_purged_portraits = {
		priority = 1

		icon = eng_ally_imperialist_coup

		ai_will_do = {
			base = 0
		}

		allowed = {
			always = yes
		}

		available = {
			always = yes
		}

		visible = {
			is_debug = yes
		}

		days_re_enable = 1

		cost = 0

		complete_effect = {
			#Custom
			set_variable = { SOV.SOV_paranoia_photo_zinovyev = 8 }
			set_variable = { SOV.SOV_paranoia_photo_radek = 9 }
			set_variable = { SOV.SOV_paranoia_photo_bukharin = 10 }
			set_variable = { SOV.SOV_paranoia_photo_trotsky = 11 }
			set_variable = { SOV.SOV_paranoia_photo_tukhachevsky = 12 }

			#Generic
			set_variable = { SOV_paranoia_portrait_index = 1 }
			set_temp_variable = { i = 0 }
			while_loop_effect = {
				limit = {
					check_variable = { i = 12 compare = less_than }
				}
				set_temp_variable = { SOV_generic_portrait_frame = SOV_paranoia_portrait_index }
				if = { #There are 6 portraits and 12 slots, so second round of generic portraits
					limit = {
						check_variable = { SOV_paranoia_portrait_index = 6 compare = greater_than }
					}
					subtract_from_temp_variable = { SOV_generic_portrait_frame = 6 }
				}
				add_to_temp_variable = { SOV_generic_portrait_frame = 1 }
				#log = "Final FRAME is [?SOV_generic_portrait_frame]"

				add_to_array = {
					array = SOV_paranoia_generic_portraits_array
					value = SOV_generic_portrait_frame
					index = SOV_paranoia_portrait_index
				}

				add_to_variable = { SOV_paranoia_portrait_index = 1 }
				add_to_temp_variable = { i = 1 }
				#log = "New index is [?SOV_paranoia_portrait_index]"
			}
		}
	}
}



########  ########   #######  ########     ###     ######      ###    ##    ## ########     ###        ######     ###    ##     ## ########     ###    ####  ######   ##    ##
##     ## ##     ## ##     ## ##     ##   ## ##   ##    ##    ## ##   ###   ## ##     ##   ## ##      ##    ##   ## ##   ###   ### ##     ##   ## ##    ##  ##    ##  ###   ##
##     ## ##     ## ##     ## ##     ##  ##   ##  ##         ##   ##  ####  ## ##     ##  ##   ##     ##        ##   ##  #### #### ##     ##  ##   ##   ##  ##        ####  ##
########  ########  ##     ## ########  ##     ## ##   #### ##     ## ## ## ## ##     ## ##     ##    ##       ##     ## ## ### ## ########  ##     ##  ##  ##   #### ## ## ##
##        ##   ##   ##     ## ##        ######### ##    ##  ######### ##  #### ##     ## #########    ##       ######### ##     ## ##        #########  ##  ##    ##  ##  ####
##        ##    ##  ##     ## ##        ##     ## ##    ##  ##     ## ##   ### ##     ## ##     ##    ##    ## ##     ## ##     ## ##        ##     ##  ##  ##    ##  ##   ###
##        ##     ##  #######  ##        ##     ##  ######   ##     ## ##    ## ########  ##     ##     ######  ##     ## ##     ## ##        ##     ## ####  ######   ##    ##


SOV_propaganda_campaigns = {
	SOV_debug_unlock_slot = {
		priority = 59

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				check_variable = { SOV_poster_left_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_center_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_right_icon_frame = SOV_propaganda_locked_slot_index }
			}
		}

		visible = {
			OR = {
				check_variable = { SOV_poster_left_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_center_icon_frame = SOV_propaganda_locked_slot_index }
				check_variable = { SOV_poster_right_icon_frame = SOV_propaganda_locked_slot_index }
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	SOV_debug_MAKE_CAMPAIGNS_FASTER_HERE = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			set_variable = { SOV_default_propaganda_campaign_duration = 5 }
			set_variable = { SOV_default_propaganda_campaign_cooldown = 1 }
			set_variable = { SOV_default_propaganda_campaign_old_days = 2 }
		}
	}

	SOV_debug_REGULAR_CAMPAIGN_DURATION_HERE = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			has_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_propaganda_campaigns_flag
			set_variable = { SOV_default_propaganda_campaign_duration = 180 }
			set_variable = { SOV_default_propaganda_campaign_cooldown = 90 }
			set_variable = { SOV_default_propaganda_campaign_old_days = 150 }
		}
	}

	SOV_debug_UNLOCK_ALL_CAMPAIGNS = {
		priority = 50

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			NOT = {
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_unlock_propaganda_campaigns_flag
		}
	}

	SOV_propaganda_victory_at_hand = { # ID = 4
		priority = 3

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_victory_at_hand_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_victory_at_hand_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_victory_at_hand_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			surrender_progress < 0.01
			any_enemy_country = {
				is_major = yes
				ROOT = {
					any_controlled_state = {
						is_core_of = PREV.PREV
					}
				}
			}
			SOV_propaganda_victory_at_hand_available = yes
			date > 1942.1.1
		}

		visible = {
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_victory_at_hand_cost

		modifier = {
			army_attack_factor = 0.05
			army_speed_factor = 0.1
			org_loss_when_moving = -0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 4 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 4 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_victory_at_hand_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_victory_at_hand_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
		}
	}

	SOV_propaganda_fight_to_the_last = { # ID = 6
		priority = 5

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0.75
			modifier = {
				factor = 10
				OR = {
					AND = {
						stockpile_ratio = {
							archetype = train_equipment
							ratio < 0.75
						}
						stockpile_ratio = {
							archetype = motorized_equipment
							ratio < 0.75
						}
					}
					stockpile_ratio = {
						archetype = convoy
						ratio < 5
					}
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_fight_to_the_last_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_fight_to_the_last_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_fight_to_the_last_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
			has_war = yes
			surrender_progress > 0.5
		}

		visible = {
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown


		cost = SOV_propaganda_fight_to_the_last_cost

		modifier = {
			army_org_factor = 0.1
			out_of_supply_factor = -0.1
			no_supply_grace = 70
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 6 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 6 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_fight_to_the_last_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_fight_to_the_last_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
		}
	}

	SOV_propaganda_hit_of_hammer = { # ID = 7
		priority = 6

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_hit_of_hammer_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_hit_of_hammer_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_hit_of_hammer_cost > 90 } #Shouldn't even consider doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
		}

		visible = {
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_hit_of_hammer_cost

		modifier = {
			industrial_capacity_factory = 0.05
			industrial_capacity_dockyard = 0.05
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 7 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 7 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_hit_of_hammer_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_hit_of_hammer_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
		}
	}

	SOV_propaganda_transport = { # ID = 8
		priority = 7

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 0.7
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_transport_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_transport_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_transport_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes
		}

		visible = {
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_transport_cost

		modifier = {
			production_speed_supply_node_factor = 0.15
			production_speed_rail_way_factor = 0.15
			supply_consumption_factor = -0.1
		}

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 8 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
		}

		remove_effect = {
			set_variable = { SOV_propaganda_campaign_to_remove = 8 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_transport_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_transport_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
		}
	}

	SOV_propaganda_death_to_invaders = { # ID = 22
		priority = 21

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				any_enemy_country = {
					SOV_is_major_not_original_sov = yes
				}
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_death_to_invaders_cost > 30 } #Less likely to do it a third time
			}
			modifier = {
				factor = 0.1
				check_variable = { SOV_propaganda_death_to_invaders_cost > 45 } #Even less likely to do it a fourth time
			}
			modifier = {
				factor = 0
				check_variable = { SOV_propaganda_death_to_invaders_cost > 90 } #Shouldn't even considered doing it a fifth time
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SOV_propaganda_poster_slot_available = yes

			has_war = yes
			any_enemy_country = {
				NOT = { original_tag = SOV }
				any_controlled_state = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = SOV_organization_of_the_partisans
				has_country_flag = SOV_debug_unlock_propaganda_campaigns_flag #debug
			}
		}

		days_remove = SOV_default_propaganda_campaign_duration

		days_re_enable = SOV_default_propaganda_campaign_cooldown

		cost = SOV_propaganda_death_to_invaders_cost

		complete_effect = {
			set_variable = { SOV_new_propaganda_campaign = 22 }
			SOV_pick_propaganda_campaign_slot_effect = yes
			SOV_achievement_propaganda_counter_effect = yes
			set_global_flag = SOV_propaganda_death_to_invaders_active_flag #This is used to dynamically add/remove the state modifier when a state is gained/lost by SOV

			if = {
				limit = {
					any_enemy_country = {
						any_controlled_state = {
							is_core_of = ROOT
						}
					}
				}
				every_enemy_country = {
					limit = {
						any_controlled_state = {
							is_core_of = ROOT
						}
					}
					every_controlled_state = {
						limit = {
							is_core_of = ROOT
						}
						add_dynamic_modifier = { modifier = SOV_invaders_must_die }
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_propaganda_death_to_invaders_no_invaders_tt
			}
			custom_effect_tooltip = SOV_propaganda_death_to_invaders_state_modifier_tt
		}

		remove_effect = {
			every_state = {
				limit = {
					has_dynamic_modifier = { modifier = SOV_invaders_must_die }
				}
				remove_dynamic_modifier = { modifier = SOV_invaders_must_die }
			}

			clr_global_flag = SOV_propaganda_death_to_invaders_active_flag

			set_variable = { SOV_propaganda_campaign_to_remove = 22 }
			SOV_reset_propaganda_campaign_slot_effect = yes

			set_variable = { SOV_propaganda_cost = SOV_propaganda_death_to_invaders_cost }
			SOV_increase_propaganda_campaign_cost_effect = yes
			set_variable = { SOV_propaganda_death_to_invaders_cost = SOV_propaganda_cost }
			clear_variable = SOV_propaganda_cost

			custom_effect_tooltip = SOV_propaganda_campaign_cooldown_tt
		}
	}	
}



 ######    #######   ######  ########  ########   #######  ##    ## ######## ##    ## ########  ######  ######## ########   #######  ##    ##
##    ##  ##     ## ##    ## ##     ## ##     ## ##     ##  ##  ##  ##       ##   ##     ##    ##    ##    ##    ##     ## ##     ##  ##  ##
##        ##     ## ##       ##     ## ##     ## ##     ##   ####   ##       ##  ##      ##    ##          ##    ##     ## ##     ##   ####
##   #### ##     ##  ######  ########  ########  ##     ##    ##    ######   #####       ##     ######     ##    ########  ##     ##    ##
##    ##  ##     ##       ## ##        ##   ##   ##     ##    ##    ##       ##  ##      ##          ##    ##    ##   ##   ##     ##    ##
##    ##  ##     ## ##    ## ##        ##    ##  ##     ##    ##    ##       ##   ##     ##    ##    ##    ##    ##    ##  ##     ##    ##
 ######    #######   ######  ##        ##     ##  #######     ##    ######## ##    ##    ##     ######     ##    ##     ##  #######     ##



SOV_gosproyektstroy_decision_category = {
	SOV_gosproyektstroy_bring_foreign_experts = {
		priority = 50

		icon = hol_attract_foreign_investors

		ai_will_do = {
			base = 10
		}

		targets = { USA ENG GER JAP }

		#target_trigger = {
		#	FROM = { SOV_is_valid_subject = yes }
		#}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_idea = SOV_gosproyektstroy_1
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
			FROM = {
				has_opinion = {
					target = ROOT
					value > 29
				}
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
			}
		}

		days_remove = SOV_gosproyektstroy_decision_time

		fire_only_once = yes

		visible = {
			has_idea = SOV_gosproyektstroy_1
			NOT = { has_country_flag = SOV_gosproyektstroy_level_2_flag }
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
			country_exists = FROM
			NOT = { has_war_with = FROM }
			FROM = { SOV_is_valid_subject = yes }
		}

		cost = SOV_gosproyektstroy_decision_cost

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			if = {
				limit = {
					FROM = { tag = USA }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_usa
				}
			}
			else_if = {
				limit = {
					FROM = { tag = ENG }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_eng
				}
			}
			else_if = {
				limit = {
					FROM = { tag = GER }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_ger
				}
			}
			else_if = {
				limit = {
					FROM = { tag = JAP }
				}
				set_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_1
					add_idea = SOV_gosproyektstroy_2_jap
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}

	SOV_gosproyektstroy_focus_civ = {
		priority = 13

		icon = generic_construction

		ai_will_do = {
			base = 0.75
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					any_other_country = {
						OR ={
							is_justifying_wargoal_against = ROOT
							ROOT = { is_justifying_wargoal_against = PREV }
						}
					}
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
				hidden_trigger = {
					OR = {
						has_idea = SOV_gosproyektstroy_2_eng
						has_idea = SOV_gosproyektstroy_2_ger
						has_idea = SOV_gosproyektstroy_2_jap
					}
				}
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
		}

		days_remove = SOV_gosproyektstroy_decision_time

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa
				has_idea = SOV_gosproyektstroy_2_eng
				has_idea = SOV_gosproyektstroy_2_ger
				has_idea = SOV_gosproyektstroy_2_jap
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
		}

		cost = SOV_gosproyektstroy_decision_cost

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 1 } #CIV
			if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_usa
					add_idea = SOV_gosproyektstroy_3_usa_civ
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_eng
					add_idea = SOV_gosproyektstroy_3_eng_civ
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_ger
					add_idea = SOV_gosproyektstroy_3_ger_civ
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_jap
					add_idea = SOV_gosproyektstroy_3_jap_civ
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}

	SOV_gosproyektstroy_focus_mil = {
		priority = 12

		icon = generic_industry

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				OR = {
					has_war = yes
					any_other_country = {
						OR ={
							is_justifying_wargoal_against = ROOT
							ROOT = { is_justifying_wargoal_against = PREV }
						}
					}
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
				hidden_trigger = {
					OR = {
						has_idea = SOV_gosproyektstroy_2_eng
						has_idea = SOV_gosproyektstroy_2_ger
						has_idea = SOV_gosproyektstroy_2_jap
					}
				}
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
		}

		days_remove = SOV_gosproyektstroy_decision_time

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa
				has_idea = SOV_gosproyektstroy_2_eng
				has_idea = SOV_gosproyektstroy_2_ger
				has_idea = SOV_gosproyektstroy_2_jap
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
		}

		cost = SOV_gosproyektstroy_decision_cost

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 2 } #MIL
			if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_usa
					add_idea = SOV_gosproyektstroy_3_usa_mil
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_eng
					add_idea = SOV_gosproyektstroy_3_eng_mil
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_ger
					add_idea = SOV_gosproyektstroy_3_ger_mil
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_jap
					add_idea = SOV_gosproyektstroy_3_jap_mil
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}

	SOV_gosproyektstroy_focus_dock = {
		priority = 11

		icon = GFX_decision_generic_naval

		ai_will_do = {
			base = 0.5
			modifier = {
				factor = 2
				has_completed_focus = SOV_pc_of_the_ussr_navy
				has_completed_focus = SOV_expand_shipbuilding_plants
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa #Done like this for tooltip purposes
				hidden_trigger = {
					OR = {
						has_idea = SOV_gosproyektstroy_2_eng
						has_idea = SOV_gosproyektstroy_2_ger
						has_idea = SOV_gosproyektstroy_2_jap
					}
				}
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag }
		}

		days_remove = SOV_gosproyektstroy_decision_time

		fire_only_once = yes

		visible = {
			OR = {
				has_idea = SOV_gosproyektstroy_2_usa
				has_idea = SOV_gosproyektstroy_2_eng
				has_idea = SOV_gosproyektstroy_2_ger
				has_idea = SOV_gosproyektstroy_2_jap
			}
			NOT = { has_country_flag = SOV_gosproyektstroy_level_3_flag }
		}

		cost = SOV_gosproyektstroy_decision_cost

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			set_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}

		remove_effect = {
			set_country_flag = { flag = SOV_gosproyektstroy_level_3_flag value = 3 } #DOCK
			if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 1 } #USA
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_usa
					add_idea = SOV_gosproyektstroy_3_usa_dock
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 2 } #ENG
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_eng
					add_idea = SOV_gosproyektstroy_3_eng_dock
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 3 } #GER
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_ger
					add_idea = SOV_gosproyektstroy_3_ger_dock
				}
			}
			else_if = {
				limit = {
					has_country_flag = { flag = SOV_gosproyektstroy_level_2_flag value = 4 } #JAP
				}
				swap_ideas = {
					remove_idea = SOV_gosproyektstroy_2_jap
					add_idea = SOV_gosproyektstroy_3_jap_dock
				}
			}

			clr_country_flag = SOV_gosproyektstroy_upgrade_in_progress_flag
		}
	}
}



########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ##
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ##
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ##
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######


###############################
### COVERT SUPPORT FOR POUM ###
###############################

SOV_soviet_aid_to_poum_decision_category = {
}



##############
### BALTIC ###
##############

SOV_diplomacy_baltic_decision_category = {
}


##############
### NORDIC ###
##############

SOV_diplomacy_nordic_decision_category = {
}


##############
### BALKAN ###
##############

SOV_diplomacy_balkan_decision_category = {
}


###################
### MIDDLE EAST ###
###################

SOV_diplomacy_middle_east_decision_category = {
}



############
### ASIA ###
############

SOV_diplomacy_asia_decision_category = {
}


 ######  #### ##    ## ##    ## ####    ###    ##    ##  ######   ####  ######     ########  ##     ## ##     ## ##     ## #### ########  ######
##    ##  ##  ###   ## ##   ##   ##    ## ##   ###   ## ##    ##  #### ##    ##    ##     ## ##     ## ###   ### ###   ###  ##  ##       ##    ##
##        ##  ####  ## ##  ##    ##   ##   ##  ####  ## ##         ##  ##          ##     ## ##     ## #### #### #### ####  ##  ##       ##
 ######   ##  ## ## ## #####     ##  ##     ## ## ## ## ##   #### ##    ######     ##     ## ##     ## ## ### ## ## ### ##  ##  ######    ######
      ##  ##  ##  #### ##  ##    ##  ######### ##  #### ##    ##             ##    ##     ## ##     ## ##     ## ##     ##  ##  ##             ##
##    ##  ##  ##   ### ##   ##   ##  ##     ## ##   ### ##    ##       ##    ##    ##     ## ##     ## ##     ## ##     ##  ##  ##       ##    ##
 ######  #### ##    ## ##    ## #### ##     ## ##    ##  ######         ######     ########   #######  ##     ## ##     ## #### ########  ######


SOV_soviet_aid_decision_category = {
}


########  ########  ######   #######  ##     ## ########   ######  ########    ########  ########   #######   ######  ########  ########  ######  ######## ####  #######  ##    ##
##     ## ##       ##    ## ##     ## ##     ## ##     ## ##    ## ##          ##     ## ##     ## ##     ## ##    ## ##     ## ##       ##    ##    ##     ##  ##     ## ###   ##
##     ## ##       ##       ##     ## ##     ## ##     ## ##       ##          ##     ## ##     ## ##     ## ##       ##     ## ##       ##          ##     ##  ##     ## ####  ##
########  ######    ######  ##     ## ##     ## ########  ##       ######      ########  ########  ##     ##  ######  ########  ######   ##          ##     ##  ##     ## ## ## ##
##   ##   ##             ## ##     ## ##     ## ##   ##   ##       ##          ##        ##   ##   ##     ##       ## ##        ##       ##          ##     ##  ##     ## ##  ####
##    ##  ##       ##    ## ##     ## ##     ## ##    ##  ##    ## ##          ##        ##    ##  ##     ## ##    ## ##        ##       ##    ##    ##     ##  ##     ## ##   ###
##     ## ########  ######   #######   #######  ##     ##  ######  ########    ##        ##     ##  #######   ######  ##        ########  ######     ##    ####  #######  ##    ##



##     ## ######## ########   ######   ########    ########  ########  ######  ####  ######   ##    ## ######## ########   ######
###   ### ##       ##     ## ##    ##  ##          ##     ## ##       ##    ##  ##  ##    ##  ###   ## ##       ##     ## ##    ##
#### #### ##       ##     ## ##        ##          ##     ## ##       ##        ##  ##        ####  ## ##       ##     ## ##
## ### ## ######   ########  ##   #### ######      ##     ## ######    ######   ##  ##   #### ## ## ## ######   ########   ######
##     ## ##       ##   ##   ##    ##  ##          ##     ## ##             ##  ##  ##    ##  ##  #### ##       ##   ##         ##
##     ## ##       ##    ##  ##    ##  ##          ##     ## ##       ##    ##  ##  ##    ##  ##   ### ##       ##    ##  ##    ##
##     ## ######## ##     ##  ######   ########    ########  ########  ######  ####  ######   ##    ## ######## ##     ##  ######


SOV_merge_designers_dec_cat = {
}



   ###     ######     ###    ########  ######## ##     ## ##    ##     #######  ########     ######   ######  #### ######## ##    ##  ######  ########  ######
  ## ##   ##    ##   ## ##   ##     ## ##       ###   ###  ##  ##     ##     ## ##          ##    ## ##    ##  ##  ##       ###   ## ##    ## ##       ##    ##
 ##   ##  ##        ##   ##  ##     ## ##       #### ####   ####      ##     ## ##          ##       ##        ##  ##       ####  ## ##       ##       ##
##     ## ##       ##     ## ##     ## ######   ## ### ##    ##       ##     ## ######       ######  ##        ##  ######   ## ## ## ##       ######    ######
######### ##       ######### ##     ## ##       ##     ##    ##       ##     ## ##                ## ##        ##  ##       ##  #### ##       ##             ##
##     ## ##    ## ##     ## ##     ## ##       ##     ##    ##       ##     ## ##          ##    ## ##    ##  ##  ##       ##   ### ##    ## ##       ##    ##
##     ##  ######  ##     ## ########  ######## ##     ##    ##        #######  ##           ######   ######  #### ######## ##    ##  ######  ########  ######


SOV_national_academy_of_sciences_dec_cat = {
	SOV_debug_FASTER_AND_FREE = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			is_debug = yes
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = {
				has_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
			}
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
			set_variable = { SOV_national_academy_of_sciences_construction_cost = 0 }
			set_variable = { SOV_national_academy_of_sciences_construction_time = 3 }
		}
	}

	SOV_debug_BACK_TO_REGULAR_STUFF = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			is_debug = yes
			has_completed_focus = SOV_national_academies_of_sciences
			has_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
			set_variable = { SOV_national_academy_of_sciences_construction_cost = 50 }
			set_variable = { SOV_national_academy_of_sciences_construction_time = 90 }
		}
	}

	SOV_build_national_academy_of_sciences_independent_republic = {
		priority = 2

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Puppets get prio so that they receive bonus too
			base = 0.9
		}

		target_trigger = {
			FROM = {
				SOV_is_valid_academy_of_sciences_target = yes
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			country_exists = FROM
			FROM = {
				SOV_is_valid_academy_of_sciences_target = yes
			}
			SOV_has_already_built_national_academy_of_sciences = no
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			SOV_build_national_academy_of_sciences_effect = yes #Tooltip + increase research speed in dynamic modifier

			SOV_set_appropriate_national_academy_of_sciences_flag_effect = yes #Set Appropriate flag to avoid duplicates with the other set of decisions for non-existing countries
			FROM = {
				country_event = NSB_soviet_academy_of_sciences.1
				effect_tooltip = {
					add_ideas = SOV_national_academy_of_sciences_puppet
				}
			}
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_BLR = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = BLR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_BLR_flag }
			NOT = { country_exists = BLR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			BLR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_BLR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_UKR = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = UKR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_UKR_flag }
			NOT = { country_exists = UKR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			UKR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_UKR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_KAZ = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = KAZ
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_KAZ_flag }
			NOT = { country_exists = KAZ }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			KAZ = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_KAZ_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_GEO = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = GEO
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_GEO_flag }
			NOT = { country_exists = GEO }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			GEO = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_GEO_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_ARM = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = ARM
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_ARM_flag }
			NOT = { country_exists = ARM }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			ARM = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_ARM_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_AZR = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = AZR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_AZR_flag }
			NOT = { country_exists = AZR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			AZR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_AZR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_UZB = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = UZB
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_UZB_flag }
			NOT = { country_exists = UZB }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			UZB = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_UZB_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_TMS = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = TMS
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_TMS_flag }
			NOT = { country_exists = TMS }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			TMS = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_TMS_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_KYR = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = KYR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_KYR_flag }
			NOT = { country_exists = KYR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			KYR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_KYR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_TAJ = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = TAJ
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_TAJ_flag }
			NOT = { country_exists = TAJ }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			TAJ = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_TAJ_flag
		}
	}

	#Not gonna have these unless they're released, just like with the others
#	SOV_build_national_academy_of_sciences_integrated_republic_DON = {
#		priority = 1
#
#		icon = GFX_decision_SOV_academy_of_sciences
#
#		ai_will_do = { #Integrated republics go after puppets
#			base = 0.5
#		}
#
#		cosmetic_tag = DON
#		cosmetic_ideology = communism
#
#		allowed = {
#			original_tag = SOV
#		}
#
#		available = {
#			num_of_civilian_factories_available_for_projects > 0
#		}
#
#		visible = {
#			has_completed_focus = SOV_national_academies_of_sciences
#			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_DON_flag }
#			NOT = { country_exists = DON }
#		}
#
#		fire_only_once = yes
#
#		cost = SOV_national_academy_of_sciences_construction_cost
#
#		days_remove = SOV_national_academy_of_sciences_construction_time
#
#		modifier = {
#			civilian_factory_use = 1
#		}
#
#		remove_effect = {
#			DON = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
#			set_country_flag = SOV_national_academy_of_sciences_built_DON_flag
#		}
#	}
#
#	SOV_build_national_academy_of_sciences_integrated_republic_KUB = {
#		priority = 1
#
#		icon = GFX_decision_SOV_academy_of_sciences
#
#		ai_will_do = { #Integrated republics go after puppets
#			base = 0.5
#		}
#
#		cosmetic_tag = KUB
#		cosmetic_ideology = communism
#
#		allowed = {
#			original_tag = SOV
#		}
#
#		available = {
#			num_of_civilian_factories_available_for_projects > 0
#		}
#
#		visible = {
#			has_completed_focus = SOV_national_academies_of_sciences
#			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_KUB_flag }
#			NOT = { country_exists = KUB }
#		}
#
#		fire_only_once = yes
#
#		cost = SOV_national_academy_of_sciences_construction_cost
#
#		days_remove = SOV_national_academy_of_sciences_construction_time
#
#		modifier = {
#			civilian_factory_use = 1
#		}
#
#		remove_effect = {
#			KUB = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
#			set_country_flag = SOV_national_academy_of_sciences_built_KUB_flag
#		}
#	}

	SOV_build_national_academy_of_sciences_integrated_republic_EST = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = EST
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_EST_flag }
			NOT = { country_exists = EST }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			EST = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_EST_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_LAT = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = LAT
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_LAT_flag }
			NOT = { country_exists = LAT }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			LAT = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_LAT_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_LIT = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = LIT
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_LIT_flag }
			NOT = { country_exists = LIT }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			LIT = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_LIT_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_POL = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = POL
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_POL_flag }
			NOT = { country_exists = POL }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			POL = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_POL_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_FIN = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = FIN
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_FIN_flag }
			NOT = { country_exists = FIN }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			FIN = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_FIN_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_TAN = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = TAN
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_TAN_flag }
			NOT = { country_exists = TAN }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			TAN = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_TAN_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_MON = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = MON
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_MON_flag }
			NOT = { country_exists = MON }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			MON = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier // Done in this scope for tooltip reasons
			set_country_flag = SOV_national_academy_of_sciences_built_MON_flag
		}
	}
}


##    ## #### ##       ##          ######## ########   #######  ########  ######  ##    ## ##    ##               ##    ##  #######     ##          ###    ########
##   ##   ##  ##       ##             ##    ##     ## ##     ##    ##    ##    ## ##   ##   ##  ##                ###   ## ##     ##    ##         ## ##   ##     ##
##  ##    ##  ##       ##             ##    ##     ## ##     ##    ##    ##       ##  ##     ####                 ####  ## ##     ##    ##        ##   ##  ##     ##
#####     ##  ##       ##             ##    ########  ##     ##    ##     ######  #####       ##       #######    ## ## ## ##     ##    ##       ##     ## ########
##  ##    ##  ##       ##             ##    ##   ##   ##     ##    ##          ## ##  ##      ##                  ##  #### ##     ##    ##       ######### ##   ##
##   ##   ##  ##       ##             ##    ##    ##  ##     ##    ##    ##    ## ##   ##     ##                  ##   ### ##     ##    ##       ##     ## ##    ##
##    ## #### ######## ########       ##    ##     ##  #######     ##     ######  ##    ##    ##                  ##    ##  #######     ######## ##     ## ##     ##


SOV_kill_trotsky_dec_cat = {
	SOV_raid_trotskys_villa = {
		priority = 2

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				date > 1940.2.1 #Historical 24/05/1940
				NOT = { has_country_flag = SOV_raided_trotskys_villa_flag }
			}
		}

		target_trigger = {
			FROM = {
				owns_state = 277
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = { infantry_equipment > 49 }
			has_equipment = { support_equipment > 49 }
			NOT = { has_country_flag = SOV_attempting_to_kill_trotsky_flag }
		}

		visible = {
			has_completed_focus = SOV_behead_the_snake
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
		}

		cost = 75

		days_remove = 60

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_attempting_to_kill_trotsky_flag
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -50
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -50
				producer = SOV
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_attempting_to_kill_trotsky_flag
				set_country_flag = SOV_raided_trotskys_villa_flag
				random_list = {
					50 = {
						modifier = {
							factor = 2
							FROM = {
								communism > 0.5
							}
						}
						modifier = {
							factor = 5
							FROM = {
								is_in_faction_with = ROOT
							}
						}
						ROOT = { news_event = { id = nsb_news.100 } } #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
					}
					50 = {
						modifier = {
							factor = 0
							FROM = {
								is_subject_of = ROOT
							}
						}
						ROOT = { news_event = { id = nsb_news.101 } } #FAILURE - Trotsky still alive
					}
				}
			}
			custom_effect_tooltip = SOV_raid_trotskys_villa_tt
		}
	}

	SOV_carefully_planned_assassination = {
		priority = 1

		icon = GFX_decision_generic_assassination

		ai_will_do = {
			base = 0
			modifier = {
				add = 200
				date > 1940.6.1 #Historical 20/08/1940
				has_country_flag = SOV_raided_trotskys_villa_flag
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					owns_state = 277
					owns_state = 110
				}
			}
		}

		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_behead_the_snake
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_attempting_to_kill_trotsky_flag }
		}

		visible = {
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			OR = {
				AND = {
					FROM = {
						controls_state = 277 #MEXICO CITY
					}
					OR = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				AND = {
					FROM = {
						controls_state = 110 #OSTLANDET (Oslo) -> Trotsky not accepted in Mexico (or Soviets being super fast to kill him, which should be impossible btw)
					}
					has_global_flag = NOR_trotsky_in_norway
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
			}
		}

		cost = 100

		fire_only_once = yes

		days_remove = 270

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_attempting_to_kill_trotsky_flag
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_attempting_to_kill_trotsky_flag
				random_list = {
					50 = {
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.25
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.5
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.75
							}
						}
						modifier = {
							factor = 2
							FROM = {
								has_opinion = {
									target = ROOT
									value > 50
								}
							}
						}
						modifier = {
							factor = 2.5
							FROM = {
								is_in_faction_with = ROOT
							}
						}
						modifier = {
							factor = 2
							has_country_flag = SOV_raided_trotskys_villa_flag
						}
						ROOT = { news_event = { id = news.37 } } #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
					}
					50 = {
						modifier = {
							factor = 0.5
							FROM = {
								is_subject_of = ROOT
							}
						}
						ROOT = { news_event = { id = news.38 } } #FAILURE - Trotsky still alive
					}
				}
			}
			custom_effect_tooltip = SOV_carefully_planned_assassination_tt
		}
	}
}


#### ##    ## ########  ##     ##  ######  ######## ########  ##    ##    ########  ######## ##        #######   ######     ###    ######## ####  #######  ##    ##
 ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##  ##     ##     ## ##       ##       ##     ## ##    ##   ## ##      ##     ##  ##     ## ###   ##
 ##  ####  ## ##     ## ##     ## ##          ##    ##     ##   ####      ##     ## ##       ##       ##     ## ##        ##   ##     ##     ##  ##     ## ####  ##
 ##  ## ## ## ##     ## ##     ##  ######     ##    ########     ##       ########  ######   ##       ##     ## ##       ##     ##    ##     ##  ##     ## ## ## ##
 ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##      ##       ##   ##   ##       ##       ##     ## ##       #########    ##     ##  ##     ## ##  ####
 ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##     ##       ##    ##  ##       ##       ##     ## ##    ## ##     ##    ##     ##  ##     ## ##   ###
#### ##    ## ########   #######   ######     ##    ##     ##    ##       ##     ## ######## ########  #######   ######  ##     ##    ##    ####  #######  ##    ##


#Category only allowed for SOV
SOV_industry_relocation = {
}


   ###    ########  #######  ##     ## ####  ######     ########  ########   #######        ## ########  ######  ########
  ## ##      ##    ##     ## ###   ###  ##  ##    ##    ##     ## ##     ## ##     ##       ## ##       ##    ##    ##
 ##   ##     ##    ##     ## #### ####  ##  ##          ##     ## ##     ## ##     ##       ## ##       ##          ##
##     ##    ##    ##     ## ## ### ##  ##  ##          ########  ########  ##     ##       ## ######   ##          ##
#########    ##    ##     ## ##     ##  ##  ##          ##        ##   ##   ##     ## ##    ## ##       ##          ##
##     ##    ##    ##     ## ##     ##  ##  ##    ##    ##        ##    ##  ##     ## ##    ## ##       ##    ##    ##
##     ##    ##     #######  ##     ## ####  ######     ##        ##     ##  #######   ######  ########  ######     ##


SOV_infiltrate_foreign_atomic_programs_dec_cat = {
	SOV_infiltrate_atomic_program = {
		priority = 1

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0.2
			modifier = {
				factor = 20
				FROM = { original_tag = USA }
			}
			modifier = {
				factor = 0.5
				OR = {
					has_tech = nukes
					is_researching_technology = nukes
				}
			}
		}

		target_trigger = {
			FROM = {
				is_major = yes
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_nuclear_espionage_ongoing_flag }
			FROM = { has_tech = atomic_research }
		}

		visible = {
			has_completed_focus = SOV_soviet_atomic_bomb_project
			FROM = {
				NOT = { has_country_flag = SOV_nuclear_espionage_flag }
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 100

		days_remove = 90

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_nuclear_espionage_ongoing_flag
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_nuclear_espionage_ongoing_flag
				FROM = { set_country_flag = SOV_nuclear_espionage_flag }
				random_list = {
					50 = {
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.15
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.25
							}
						}
						modifier = {
							factor = 2
							FROM = {
								communism > 0.5
							}
						}
						ROOT = { country_event = NSB_soviet_atomic_bomb_project.1 } #SUCCESS - Get the bonus
					}
					50 = {
						ROOT = {
							country_event = NSB_soviet_atomic_bomb_project.2  #FAILURE - Get some penalties
							set_variable = { SOV_aggrieved_country_atomic_spies = FROM }
						}
						FROM = {
							country_event = NSB_soviet_atomic_bomb_project.3
						}
					}
				}
			}
			custom_effect_tooltip = SOV_infiltrate_atomic_program_tt
		}
	}
}


 ######   #######  ##     ## ########  ######   #######  ##    ##
##    ## ##     ## ###   ### ##       ##    ## ##     ## ###   ##
##       ##     ## #### #### ##       ##       ##     ## ####  ##
##       ##     ## ## ### ## ######   ##       ##     ## ## ## ##
##       ##     ## ##     ## ##       ##       ##     ## ##  ####
##    ## ##     ## ##     ## ##       ##    ## ##     ## ##   ###
 ######   #######  ##     ## ########  ######   #######  ##    ##


SOV_comecon_dec_cat = {
	SOV_comecon_industrialization_program = {
		priority = 2

		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 0.5
			modifier = {
				factor = 4
				has_war = no
			}
		}

		target_array = subjects

		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
			FROM = { communism > 0.5 }
			NOT = { has_country_flag = SOV_comecon_joint_military_program_ongoing_flag }
			NOT = { has_country_flag = SOV_comecon_industrialization_program_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_found_the_comecon
			FROM = { is_puppet_of = ROOT }
		}

		cost = 100

		days_remove = 180

		cancel_trigger = {
			NOT = { FROM = { is_puppet_of = ROOT } }
		}

		cancel_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_industrialization_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_industrialization
					add_idea = SOV_comecon_sov_default
				}

				FROM = {
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_industrialization
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}

		modifier = {
			civilian_factory_use = 1
			custom_modifier_tooltip = SOV_comecon_industrialization_program_modifier_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = { country_event = { id = NSB_soviet_comecon.1 hours = 1 } }
				set_country_flag = SOV_comecon_industrialization_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_default
					add_idea = SOV_comecon_sov_industrialization
				}

				FROM = {
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_default
						add_idea = SOV_comecon_puppet_industrialization
					}
				}
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_industrialization_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_industrialization
					add_idea = SOV_comecon_sov_default
				}

				FROM = {
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_industrialization
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}
	}

	SOV_comecon_joint_military_program = {
		priority = 1

		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 0.5
			modifier = {
				factor = 4
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
			NOT = { has_country_flag = SOV_comecon_industrialization_program_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_found_the_comecon
			num_subjects > 0
		}

		cost = 100

		days_remove = 180

		modifier = {
			custom_modifier_tooltip = SOV_comecon_joint_military_program_modifier_tt
		}

		cancel_trigger = {
			num_subjects < 1
		}

		cancel_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_joint_military_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_military
					add_idea = SOV_comecon_sov_default
				}

				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_military
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				set_country_flag = SOV_comecon_joint_military_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_default
					add_idea = SOV_comecon_sov_military
				}

				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					country_event = { id = NSB_soviet_comecon.2 hours = 1 }
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_default
						add_idea = SOV_comecon_puppet_military
					}
				}
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_joint_military_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_military
					add_idea = SOV_comecon_sov_default
				}

				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_military
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}
	}
}


 ######   ########  ########    ###    ########    ########     ###    ######## ########  ####  #######  ######## ####  ######     ##      ##    ###    ########
##    ##  ##     ## ##         ## ##      ##       ##     ##   ## ##      ##    ##     ##  ##  ##     ##    ##     ##  ##    ##    ##  ##  ##   ## ##   ##     ##
##        ##     ## ##        ##   ##     ##       ##     ##  ##   ##     ##    ##     ##  ##  ##     ##    ##     ##  ##          ##  ##  ##  ##   ##  ##     ##
##   #### ########  ######   ##     ##    ##       ########  ##     ##    ##    ########   ##  ##     ##    ##     ##  ##          ##  ##  ## ##     ## ########
##    ##  ##   ##   ##       #########    ##       ##        #########    ##    ##   ##    ##  ##     ##    ##     ##  ##          ##  ##  ## ######### ##   ##
##    ##  ##    ##  ##       ##     ##    ##       ##        ##     ##    ##    ##    ##   ##  ##     ##    ##     ##  ##    ##    ##  ##  ## ##     ## ##    ##
 ######   ##     ## ######## ##     ##    ##       ##        ##     ##    ##    ##     ## ####  #######     ##    ####  ######      ###  ###  ##     ## ##     ##


SOV_great_patriotic_war = {

	SOV_civilian_labor_in_defense = {
		priority = 10

		icon = POL_organize_strike_two

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_idea = SOV_labor_defense
			}
			has_war_with = GER
		}

		visible = {
		}

		cost = 75

		days_remove = 90

		cancel_if_not_visible = yes

		complete_effect = {
			add_timed_idea = {
				idea = SOV_labor_defense
				days = 90
			}
		}

		remove_effect = {
		}
	}

	SOV_order_227 = {
		priority = 101

		icon = generic_army_support

		ai_will_do = {
			factor = 1
			modifier = {
				surrender_progress > 0.25
				factor = 10
			}
		}
		available = {
			surrender_progress > 0.75
			date > 1943.1.1
		}

		fire_only_once = yes
		visible = {
		}

		days_remove = 150

		modifier = {
			army_core_attack_factor = 0.1
			army_core_defence_factor = 0.1
		}

		complete_effect = {
			set_country_flag = SOV_order_227_flag
			custom_effect_tooltip = SOV_order_227_decisions_tt
			if = {
				limit = {
					NOT = { has_dlc = "No Step Back" }
				}
				custom_effect_tooltip = SOV_order_227_scorched_earth_decisions_tt
			}
		}
	}

	SOV_the_rush_for_berlin = {
		priority = 100

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			any_controlled_state = {
				is_core_of = GER
			}
			surrender_progress < 0.01
			date > 1944.1.1
			has_country_flag = SOV_great_patriotic_war_flag
		}

		visible = {
		}

		fire_only_once = yes

		complete_effect = {
			add_timed_idea = {
				idea = SOV_the_rush_for_berlin
				days = 120
			}
		}
	}

	SOV_rzhev_counteroffensive = {
		name = "Rzhev Counteroffensive"
		priority = 99

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			date > 1942.1.1
			date < 1942.2.1
			has_country_flag = SOV_great_patriotic_war_flag
		}

		visible = {
			date < 1942.2.1
		}

		fire_only_once = yes

		complete_effect = {
			add_timed_idea = {
				idea = SOV_rzhev
				days = 90
			}
		}
	}

	SOV_uranus = {
		name = "Operation Uranus"
		priority = 99

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			date > 1942.10.1
			date < 1942.11.1
			has_country_flag = SOV_great_patriotic_war_flag
		}

		visible = {
			date < 1942.11.1
		}

		fire_only_once = yes

		complete_effect = {
			add_timed_idea = {
				idea = SOV_uranus
				days = 90
			}
		}
	}

	SOV_suvorov = {
		name = "Operation Suvorov"
		priority = 99

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			date > 1943.10.1
			date < 1943.11.1
			has_country_flag = SOV_great_patriotic_war_flag
		}

		visible = {
			date < 1943.11.1
		}

		fire_only_once = yes

		complete_effect = {
			add_timed_idea = {
				idea = SOV_suvorov
				days = 90
			}
		}
	}

	SOV_bagration = {
		name = "Operation Bagration"
		priority = 99

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			date > 1944.6.1
			date < 1944.7.1
			has_country_flag = SOV_great_patriotic_war_flag
		}

		visible = {
			date < 1944.7.1
		}

		fire_only_once = yes

		complete_effect = {
			add_timed_idea = {
				idea = SOV_bagration
				days = 90
			}
		}
	}
}

################################################################################

	 ##  ##  #   # ### ### ###      ##  ### #   # ### #       #   #  ##  ###
	#   #  # #   #  #  #    #      #  #  #  #   #  #  #       #   # #  # #  #
	 #  #  #  # #   #  ##   #      #     #   # #   #  #       # # # #### ###
	  # #  #  # #   #  #    #      #  #  #   # #   #  #       # # # #  # #  #
	##   ##    #   ### ###  #       ##  ###   #   ### ###      # #  #  # #  #


################################################################################

SOV_soviet_civil_war_dec_cat = {
	# Behead the snake
	SOV_behead_the_snake_mission = {

		priority = 11

		icon = SOV_behead_the_snake
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			ROOT = { news_event = { id = news.37 } } #SUCCESS - Kill Trotsky
			set_country_flag = SOV_behead_the_snake_completed_flag
		}
	}

}


########  ######## ########  ##     ##    ###    ##    ## ######## ##    ## ########    ########  ######## ##     ##  #######  ##       ##     ## ######## ####  #######  ##    ##
##     ## ##       ##     ## ###   ###   ## ##   ###   ## ##       ###   ##    ##       ##     ## ##       ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ###   ##
##     ## ##       ##     ## #### ####  ##   ##  ####  ## ##       ####  ##    ##       ##     ## ##       ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ####  ##
########  ######   ########  ## ### ## ##     ## ## ## ## ######   ## ## ##    ##       ########  ######   ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ## ## ##
##        ##       ##   ##   ##     ## ######### ##  #### ##       ##  ####    ##       ##   ##   ##        ##   ##  ##     ## ##       ##     ##    ##     ##  ##     ## ##  ####
##        ##       ##    ##  ##     ## ##     ## ##   ### ##       ##   ###    ##       ##    ##  ##         ## ##   ##     ## ##       ##     ##    ##     ##  ##     ## ##   ###
##        ######## ##     ## ##     ## ##     ## ##    ## ######## ##    ##    ##       ##     ## ########    ###     #######  ########  #######     ##    ####  #######  ##    ##


SOV_permanent_revolution_dec_cat = {
}



##     ##    ###    ##    ## #### ##       ##          ###
##     ##   ## ##   ###   ##  ##  ##       ##         ## ##
##     ##  ##   ##  ####  ##  ##  ##       ##        ##   ##
##     ## ##     ## ## ## ##  ##  ##       ##       ##     ##
 ##   ##  ######### ##  ####  ##  ##       ##       #########
  ## ##   ##     ## ##   ###  ##  ##       ##       ##     ##
   ###    ##     ## ##    ## #### ######## ######## ##     ##


operations = {
}

political_actions = {
}

political_actions = {
}




SOV_panslavic_nationalism = {
}

SOV_polish_territory = {
}